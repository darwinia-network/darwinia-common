import { expect } from "chai";
import Web3 from "web3";
import { config } from "./config";

const web3 = new Web3(config.host);

const DEPLOYED_BYTECODE = "0x60006000fd";

describe("Test Precompile with dummy bytes", function () {
	it("Test precompile should return dummy bytes code", async function () {
		[
			"0x0000000000000000000000000000000000000001",
			"0x0000000000000000000000000000000000000002",
			"0x0000000000000000000000000000000000000003",
			"0x0000000000000000000000000000000000000004",
			"0x0000000000000000000000000000000000000005",
			"0x0000000000000000000000000000000000000006",
			"0x0000000000000000000000000000000000000007",
			"0x0000000000000000000000000000000000000008",

			"0x0000000000000000000000000000000000000400",
			"0x0000000000000000000000000000000000000401",
			"0x0000000000000000000000000000000000000402",
		].forEach(async (x) => {
			const code = await web3.eth.getCode(x);
			expect(code).to.equal(DEPLOYED_BYTECODE);
		});
	});
});
